import{S as La,i as Pa,s as ya,C as ws,w as wa,x as xa,y as qa,z as Ra,A as aa,q as Ma,o as Sa,B as Aa,W as la,e as o,t as r,k as u,c as p,a as n,h as i,d as s,m as c,b as _,g as l,K as t,M as Ha}from"../../../chunks/vendor-01ce2e80.js";import{M as Oa}from"../../../chunks/md_layout-a3da939d.js";import"../../../chunks/meta-78e42577.js";import"../../../chunks/stores-88e3b49f.js";import"../../../chunks/fmt-158ed921.js";function Ta(B){let f,d,E,v,m,k,b,w,Xe,ce,U,je,fe,x,ae,ze,Fe,me,q,oa=`<code class="language-undefined">PROMSCALE_DB_HOST=&quot;localhost&quot;
PROMSCALE_DB_NAME=&quot;prometheus&quot;
PROMSCALE_DB_PASSWORD=&quot;hogehoge&quot;
PROMSCALE_DB_PORT=&quot;5432&quot;
PROMSCALE_DB_SSL_MODE=&quot;allow&quot;
PROMSCALE_DB_USER=&quot;prometheus&quot;</code>`,_e,h,Ke,le,Ge,Je,ke,R,pa=`<code class="language-yaml"><span class="token comment"># Promscale</span>
<span class="token key atrule">remote_write</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"http://localhost:9201/write"</span>
    <span class="token key atrule">remote_timeout</span><span class="token punctuation">:</span> 30s
    <span class="token key atrule">queue_config</span><span class="token punctuation">:</span>
      <span class="token key atrule">capacity</span><span class="token punctuation">:</span> <span class="token number">10000</span>
      <span class="token key atrule">max_samples_per_send</span><span class="token punctuation">:</span> <span class="token number">3000</span>
      <span class="token key atrule">batch_send_deadline</span><span class="token punctuation">:</span> 10s
      <span class="token key atrule">min_shards</span><span class="token punctuation">:</span> <span class="token number">4</span>
      <span class="token key atrule">max_shards</span><span class="token punctuation">:</span> <span class="token number">200</span>
      <span class="token key atrule">min_backoff</span><span class="token punctuation">:</span> 100ms
      <span class="token key atrule">max_backoff</span><span class="token punctuation">:</span> 10s
<span class="token key atrule">remote_read</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"http://localhost:9201/read"</span>
    <span class="token key atrule">read_recent</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code>`,de,N,Ve,Ee,L,Ye,te,Ze,ge,ve,M,na='<code class="language-undefined">deb [signed-by=/usr/share/keyrings/timescale.gpg] https://packagecloud.io/timescale/timescaledb/debian/ bullseye main</code>',be,W,es,he,S,ra=`<code class="language-bash">$ <span class="token function">curl</span> -L https://packagecloud.io/timescale/timescaledb/gpgkey <span class="token operator">|</span> <span class="token function">sudo</span> gpg --dearmor -o /usr/share/keyrings/timescale.gpg
$ <span class="token function">sudo</span> <span class="token function">apt</span> update
$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> timescaledb-2-postgresql-13</code>`,Le,Q,ss,Pe,A,ua='<code class="language-undefined">#shared_preload_libraries = &#39;&#39;  # (change requires restart)</code>',ye,X,as,we,H,ia='<code class="language-undefined">shared_preload_libraries = &#39;timescaledb&#39;        # (change requires restart)</code>',xe,j,ls,qe,O,ca='<code class="language-sql"><span class="token operator">></span> <span class="token keyword">CREATE</span> EXTENSION <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> timescaledb<span class="token punctuation">;</span></code>',Re,z,ts,Me,F,os,Se,K,ps,Ae,G,ns,He,T,fa='<code class="language-sql"><span class="token operator">></span> <span class="token keyword">ALTER</span> ROLE prometheus <span class="token keyword">WITH</span> CREATEROLE<span class="token punctuation">;</span></code>',Oe,J,rs,Te,V,us,Ce,Y,is,De,P,Z,cs,oe,pe,C,fs,ms,g,_s,ne,re,D,ks,$e,ee,ds,Ie,se,Es,Be,y,ue,$,vs,bs,ie,I,hs;return{c(){f=o("h1"),d=r("Prometheus\u3068\u30DD\u30B9\u30B0\u30EC\u306E\u9023\u643A"),E=u(),v=o("h2"),m=r("promscale"),k=u(),b=o("p"),w=o("a"),Xe=r("https://github.com/timescale/promscale"),ce=u(),U=o("p"),je=r(`prometheus\u3068grafana\u306E\u9593\u306B\u5165\u3063\u3066\u304F\u308C\u308B(grafana\u5074\u304B\u3089\u306F\u666E\u901A\u306Eprometheus\u3068\u3057\u3066\u4F7F\u3048\u308B)\uFF0E
deb\u3092github\u306E\u30EA\u30EA\u30FC\u30B9\u30DA\u30FC\u30B8\u304B\u3089\u843D\u3068\u3059\uFF0E`),fe=u(),x=o("p"),ae=o("code"),ze=r("promscale.conf"),Fe=r("\u3092\u3053\u3046\u3059\u308B\uFF0E"),me=u(),q=o("pre"),_e=u(),h=o("p"),Ke=r("\u307E\u305F\uFF0C"),le=o("code"),Ge=r("prometheus.yml"),Je=r("\u306B\u4EE5\u4E0B\u3092\u8FFD\u8A18\u3059\u308B\uFF0E"),ke=u(),R=o("pre"),de=u(),N=o("h2"),Ve=r("pgdb(v13\u3092\u60F3\u5B9A)\u306B\u62E1\u5F35\u3092\u5165\u308C\u308B"),Ee=u(),L=o("p"),Ye=r("\u4EE5\u4E0B\u3092"),te=o("code"),Ze=r("/etc/apt/sources.list.d/timescale.list"),ge=r("\u306B\u66F8\u304F\uFF0E"),ve=u(),M=o("pre"),be=u(),W=o("p"),es=r("\u4EE5\u4E0B\u3092\u5B9F\u884C :"),he=u(),S=o("pre"),Le=u(),Q=o("p"),ss=r("postgresql.conf\u306E"),Pe=u(),A=o("pre"),ye=u(),X=o("p"),as=r("\u306E\u884C\u3092"),we=u(),H=o("pre"),xe=u(),j=o("p"),ls=r(`\u3068\u3059\u308B\uFF0E
\u30DD\u30B9\u30B0\u30EC\u3092restart\u3057\u3066\u304B\u3089\u5BFE\u8C61\u306EDB\u3092\u4F5C\u308A\uFF0C`),qe=u(),O=o("pre"),Re=u(),z=o("p"),ts=r(`\u3059\u308B\uFF0E
\u305D\u308C\u3063\u307D\u3044\u306E\u304C\u51FA\u308B\uFF0E`),Me=u(),F=o("h2"),os=r("\u3082\u3046\u4E00\u5EA6\u30DD\u30B9\u30B0\u30EC\u3092\u3044\u3058\u308B"),Se=u(),K=o("p"),ps=r("promscale\u3082\u958B\u59CB\u524D\u306B\u4E00\u5FDCmigrate\u7528\u306ESQL\u8D70\u3089\u305B\u3066\u304F\u308C\u308B\u306E\u3060\u304C\uFF0Ccreate role\u3057\u3088\u3046\u3068\u3057\u3084\u304C\u308B\uFF0E"),Ae=u(),G=o("p"),ns=r("\u307E\u3042\u52D5\u304B\u306A\u3051\u308A\u3083\u8A71\u306B\u306A\u3089\u306A\u3044\u306E\u3067\u3057\u3083\u30FC\u306A\u3057\u306E\u6A29\u9650\u4ED8\u4E0E\uFF0E"),He=u(),T=o("pre"),Oe=u(),J=o("h2"),rs=r("\u3044\u3051\u305F"),Te=u(),V=o("p"),us=r("\u3044\u3051\u305F"),Ce=u(),Y=o("h2"),is=r("\u4F7F\u3063\u305F\u30D5\u30A1\u30A4\u30EB"),De=u(),P=o("ul"),Z=o("li"),cs=r("promscale"),oe=o("ul"),pe=o("li"),C=o("a"),fs=r("https://github.com/timescale/promscale/releases/download/0.7.1/promscale_0.7.1_Linux_x86_64.deb"),ms=u(),g=o("li"),_s=r("prom-migrator(\u4F7F\u3063\u3066\u306A\u3044)"),ne=o("ul"),re=o("li"),D=o("a"),ks=r("https://github.com/timescale/promscale/releases/download/0.7.1/prom-migrator_0.0.3_Linux_x86_64"),$e=u(),ee=o("p"),ds=r("\u305D\u306E\u4ED6\u306Fdebian\u6A19\u6E96\u306E\u3084\u3064(postgresql-13\u306Fpg\u516C\u5F0F\u30EA\u30DD\u30B8\u30C8\u30EA\u306E\u3084\u3064)"),Ie=u(),se=o("h2"),Es=r("\u53C2\u8003"),Be=u(),y=o("ul"),ue=o("li"),$=o("a"),vs=r("https://docs.timescale.com/install/latest/self-hosted/installation-debian/#setting-up-the-timescaledb-extension"),bs=u(),ie=o("li"),I=o("a"),hs=r("https://docs.timescale.com/timescaledb/latest/how-to-guides/migrate-data/same-db/"),this.h()},l(e){f=p(e,"H1",{});var a=n(f);d=i(a,"Prometheus\u3068\u30DD\u30B9\u30B0\u30EC\u306E\u9023\u643A"),a.forEach(s),E=c(e),v=p(e,"H2",{});var xs=n(v);m=i(xs,"promscale"),xs.forEach(s),k=c(e),b=p(e,"P",{});var qs=n(b);w=p(qs,"A",{href:!0,rel:!0});var Rs=n(w);Xe=i(Rs,"https://github.com/timescale/promscale"),Rs.forEach(s),qs.forEach(s),ce=c(e),U=p(e,"P",{});var Ms=n(U);je=i(Ms,`prometheus\u3068grafana\u306E\u9593\u306B\u5165\u3063\u3066\u304F\u308C\u308B(grafana\u5074\u304B\u3089\u306F\u666E\u901A\u306Eprometheus\u3068\u3057\u3066\u4F7F\u3048\u308B)\uFF0E
deb\u3092github\u306E\u30EA\u30EA\u30FC\u30B9\u30DA\u30FC\u30B8\u304B\u3089\u843D\u3068\u3059\uFF0E`),Ms.forEach(s),fe=c(e),x=p(e,"P",{});var Ls=n(x);ae=p(Ls,"CODE",{});var Ss=n(ae);ze=i(Ss,"promscale.conf"),Ss.forEach(s),Fe=i(Ls,"\u3092\u3053\u3046\u3059\u308B\uFF0E"),Ls.forEach(s),me=c(e),q=p(e,"PRE",{class:!0});var ma=n(q);ma.forEach(s),_e=c(e),h=p(e,"P",{});var Ue=n(h);Ke=i(Ue,"\u307E\u305F\uFF0C"),le=p(Ue,"CODE",{});var As=n(le);Ge=i(As,"prometheus.yml"),As.forEach(s),Je=i(Ue,"\u306B\u4EE5\u4E0B\u3092\u8FFD\u8A18\u3059\u308B\uFF0E"),Ue.forEach(s),ke=c(e),R=p(e,"PRE",{class:!0});var _a=n(R);_a.forEach(s),de=c(e),N=p(e,"H2",{});var Hs=n(N);Ve=i(Hs,"pgdb(v13\u3092\u60F3\u5B9A)\u306B\u62E1\u5F35\u3092\u5165\u308C\u308B"),Hs.forEach(s),Ee=c(e),L=p(e,"P",{});var Ne=n(L);Ye=i(Ne,"\u4EE5\u4E0B\u3092"),te=p(Ne,"CODE",{});var Os=n(te);Ze=i(Os,"/etc/apt/sources.list.d/timescale.list"),Os.forEach(s),ge=i(Ne,"\u306B\u66F8\u304F\uFF0E"),Ne.forEach(s),ve=c(e),M=p(e,"PRE",{class:!0});var ka=n(M);ka.forEach(s),be=c(e),W=p(e,"P",{});var Ts=n(W);es=i(Ts,"\u4EE5\u4E0B\u3092\u5B9F\u884C :"),Ts.forEach(s),he=c(e),S=p(e,"PRE",{class:!0});var da=n(S);da.forEach(s),Le=c(e),Q=p(e,"P",{});var Cs=n(Q);ss=i(Cs,"postgresql.conf\u306E"),Cs.forEach(s),Pe=c(e),A=p(e,"PRE",{class:!0});var Ea=n(A);Ea.forEach(s),ye=c(e),X=p(e,"P",{});var Ds=n(X);as=i(Ds,"\u306E\u884C\u3092"),Ds.forEach(s),we=c(e),H=p(e,"PRE",{class:!0});var va=n(H);va.forEach(s),xe=c(e),j=p(e,"P",{});var $s=n(j);ls=i($s,`\u3068\u3059\u308B\uFF0E
\u30DD\u30B9\u30B0\u30EC\u3092restart\u3057\u3066\u304B\u3089\u5BFE\u8C61\u306EDB\u3092\u4F5C\u308A\uFF0C`),$s.forEach(s),qe=c(e),O=p(e,"PRE",{class:!0});var ba=n(O);ba.forEach(s),Re=c(e),z=p(e,"P",{});var Is=n(z);ts=i(Is,`\u3059\u308B\uFF0E
\u305D\u308C\u3063\u307D\u3044\u306E\u304C\u51FA\u308B\uFF0E`),Is.forEach(s),Me=c(e),F=p(e,"H2",{});var Bs=n(F);os=i(Bs,"\u3082\u3046\u4E00\u5EA6\u30DD\u30B9\u30B0\u30EC\u3092\u3044\u3058\u308B"),Bs.forEach(s),Se=c(e),K=p(e,"P",{});var Us=n(K);ps=i(Us,"promscale\u3082\u958B\u59CB\u524D\u306B\u4E00\u5FDCmigrate\u7528\u306ESQL\u8D70\u3089\u305B\u3066\u304F\u308C\u308B\u306E\u3060\u304C\uFF0Ccreate role\u3057\u3088\u3046\u3068\u3057\u3084\u304C\u308B\uFF0E"),Us.forEach(s),Ae=c(e),G=p(e,"P",{});var Ns=n(G);ns=i(Ns,"\u307E\u3042\u52D5\u304B\u306A\u3051\u308A\u3083\u8A71\u306B\u306A\u3089\u306A\u3044\u306E\u3067\u3057\u3083\u30FC\u306A\u3057\u306E\u6A29\u9650\u4ED8\u4E0E\uFF0E"),Ns.forEach(s),He=c(e),T=p(e,"PRE",{class:!0});var ha=n(T);ha.forEach(s),Oe=c(e),J=p(e,"H2",{});var Ws=n(J);rs=i(Ws,"\u3044\u3051\u305F"),Ws.forEach(s),Te=c(e),V=p(e,"P",{});var Qs=n(V);us=i(Qs,"\u3044\u3051\u305F"),Qs.forEach(s),Ce=c(e),Y=p(e,"H2",{});var Xs=n(Y);is=i(Xs,"\u4F7F\u3063\u305F\u30D5\u30A1\u30A4\u30EB"),Xs.forEach(s),De=c(e),P=p(e,"UL",{});var We=n(P);Z=p(We,"LI",{});var Ps=n(Z);cs=i(Ps,"promscale"),oe=p(Ps,"UL",{});var js=n(oe);pe=p(js,"LI",{});var zs=n(pe);C=p(zs,"A",{href:!0,rel:!0});var Fs=n(C);fs=i(Fs,"https://github.com/timescale/promscale/releases/download/0.7.1/promscale_0.7.1_Linux_x86_64.deb"),Fs.forEach(s),zs.forEach(s),js.forEach(s),Ps.forEach(s),ms=c(We),g=p(We,"LI",{});var ys=n(g);_s=i(ys,"prom-migrator(\u4F7F\u3063\u3066\u306A\u3044)"),ne=p(ys,"UL",{});var Ks=n(ne);re=p(Ks,"LI",{});var Gs=n(re);D=p(Gs,"A",{href:!0,rel:!0});var Js=n(D);ks=i(Js,"https://github.com/timescale/promscale/releases/download/0.7.1/prom-migrator_0.0.3_Linux_x86_64"),Js.forEach(s),Gs.forEach(s),Ks.forEach(s),ys.forEach(s),We.forEach(s),$e=c(e),ee=p(e,"P",{});var Vs=n(ee);ds=i(Vs,"\u305D\u306E\u4ED6\u306Fdebian\u6A19\u6E96\u306E\u3084\u3064(postgresql-13\u306Fpg\u516C\u5F0F\u30EA\u30DD\u30B8\u30C8\u30EA\u306E\u3084\u3064)"),Vs.forEach(s),Ie=c(e),se=p(e,"H2",{});var Ys=n(se);Es=i(Ys,"\u53C2\u8003"),Ys.forEach(s),Be=c(e),y=p(e,"UL",{});var Qe=n(y);ue=p(Qe,"LI",{});var Zs=n(ue);$=p(Zs,"A",{href:!0,rel:!0});var gs=n($);vs=i(gs,"https://docs.timescale.com/install/latest/self-hosted/installation-debian/#setting-up-the-timescaledb-extension"),gs.forEach(s),Zs.forEach(s),bs=c(Qe),ie=p(Qe,"LI",{});var ea=n(ie);I=p(ea,"A",{href:!0,rel:!0});var sa=n(I);hs=i(sa,"https://docs.timescale.com/timescaledb/latest/how-to-guides/migrate-data/same-db/"),sa.forEach(s),ea.forEach(s),Qe.forEach(s),this.h()},h(){_(w,"href","https://github.com/timescale/promscale"),_(w,"rel","nofollow"),_(q,"class","language-undefined"),_(R,"class","language-yaml"),_(M,"class","language-undefined"),_(S,"class","language-bash"),_(A,"class","language-undefined"),_(H,"class","language-undefined"),_(O,"class","language-sql"),_(T,"class","language-sql"),_(C,"href","https://github.com/timescale/promscale/releases/download/0.7.1/promscale_0.7.1_Linux_x86_64.deb"),_(C,"rel","nofollow"),_(D,"href","https://github.com/timescale/promscale/releases/download/0.7.1/prom-migrator_0.0.3_Linux_x86_64"),_(D,"rel","nofollow"),_($,"href","https://docs.timescale.com/install/latest/self-hosted/installation-debian/#setting-up-the-timescaledb-extension"),_($,"rel","nofollow"),_(I,"href","https://docs.timescale.com/timescaledb/latest/how-to-guides/migrate-data/same-db/"),_(I,"rel","nofollow")},m(e,a){l(e,f,a),t(f,d),l(e,E,a),l(e,v,a),t(v,m),l(e,k,a),l(e,b,a),t(b,w),t(w,Xe),l(e,ce,a),l(e,U,a),t(U,je),l(e,fe,a),l(e,x,a),t(x,ae),t(ae,ze),t(x,Fe),l(e,me,a),l(e,q,a),q.innerHTML=oa,l(e,_e,a),l(e,h,a),t(h,Ke),t(h,le),t(le,Ge),t(h,Je),l(e,ke,a),l(e,R,a),R.innerHTML=pa,l(e,de,a),l(e,N,a),t(N,Ve),l(e,Ee,a),l(e,L,a),t(L,Ye),t(L,te),t(te,Ze),t(L,ge),l(e,ve,a),l(e,M,a),M.innerHTML=na,l(e,be,a),l(e,W,a),t(W,es),l(e,he,a),l(e,S,a),S.innerHTML=ra,l(e,Le,a),l(e,Q,a),t(Q,ss),l(e,Pe,a),l(e,A,a),A.innerHTML=ua,l(e,ye,a),l(e,X,a),t(X,as),l(e,we,a),l(e,H,a),H.innerHTML=ia,l(e,xe,a),l(e,j,a),t(j,ls),l(e,qe,a),l(e,O,a),O.innerHTML=ca,l(e,Re,a),l(e,z,a),t(z,ts),l(e,Me,a),l(e,F,a),t(F,os),l(e,Se,a),l(e,K,a),t(K,ps),l(e,Ae,a),l(e,G,a),t(G,ns),l(e,He,a),l(e,T,a),T.innerHTML=fa,l(e,Oe,a),l(e,J,a),t(J,rs),l(e,Te,a),l(e,V,a),t(V,us),l(e,Ce,a),l(e,Y,a),t(Y,is),l(e,De,a),l(e,P,a),t(P,Z),t(Z,cs),t(Z,oe),t(oe,pe),t(pe,C),t(C,fs),t(P,ms),t(P,g),t(g,_s),t(g,ne),t(ne,re),t(re,D),t(D,ks),l(e,$e,a),l(e,ee,a),t(ee,ds),l(e,Ie,a),l(e,se,a),t(se,Es),l(e,Be,a),l(e,y,a),t(y,ue),t(ue,$),t($,vs),t(y,bs),t(y,ie),t(ie,I),t(I,hs)},p:Ha,d(e){e&&s(f),e&&s(E),e&&s(v),e&&s(k),e&&s(b),e&&s(ce),e&&s(U),e&&s(fe),e&&s(x),e&&s(me),e&&s(q),e&&s(_e),e&&s(h),e&&s(ke),e&&s(R),e&&s(de),e&&s(N),e&&s(Ee),e&&s(L),e&&s(ve),e&&s(M),e&&s(be),e&&s(W),e&&s(he),e&&s(S),e&&s(Le),e&&s(Q),e&&s(Pe),e&&s(A),e&&s(ye),e&&s(X),e&&s(we),e&&s(H),e&&s(xe),e&&s(j),e&&s(qe),e&&s(O),e&&s(Re),e&&s(z),e&&s(Me),e&&s(F),e&&s(Se),e&&s(K),e&&s(Ae),e&&s(G),e&&s(He),e&&s(T),e&&s(Oe),e&&s(J),e&&s(Te),e&&s(V),e&&s(Ce),e&&s(Y),e&&s(De),e&&s(P),e&&s($e),e&&s(ee),e&&s(Ie),e&&s(se),e&&s(Be),e&&s(y)}}}function Ca(B){let f,d;const E=[B[0],ta];let v={$$slots:{default:[Ta]},$$scope:{ctx:B}};for(let m=0;m<E.length;m+=1)v=ws(v,E[m]);return f=new Oa({props:v}),{c(){wa(f.$$.fragment)},l(m){xa(f.$$.fragment,m)},m(m,k){qa(f,m,k),d=!0},p(m,[k]){const b=k&1?Ra(E,[k&1&&aa(m[0]),k&0&&aa(ta)]):{};k&2&&(b.$$scope={dirty:k,ctx:m}),f.$set(b)},i(m){d||(Ma(f.$$.fragment,m),d=!0)},o(m){Sa(f.$$.fragment,m),d=!1},d(m){Aa(f,m)}}}const ta={title:"Prometheus\u3068\u30DD\u30B9\u30B0\u30EC\u306E\u9023\u643A",date:1640675707270,dateUpd:1640688562233,noRobots:!0};function Da(B,f,d){return B.$$set=E=>{d(0,f=ws(ws({},f),la(E)))},f=la(f),[f]}class Wa extends La{constructor(f){super();Pa(this,f,Da,Ca,ya,{})}}export{Wa as default,ta as metadata};
